"use strict";if(!Number.isInteger){Number.isInteger=function isInteger(a){return typeof a==="number"&&isFinite(a)&&a>-9007199254740992&&a<9007199254740992&&Math.floor(a)===a}}function StringView(h,x,s,q){var n,a,i,v,p,t,f=isFinite(s)?s:0,k=15;if(x){this.encoding=x.toString()}encSwitch:switch(this.encoding){case"UTF-8":v=StringView.putUTF8CharCode;p=StringView.getUTF8CharLength;n=Uint8Array;break encSwitch;case"UTF-16":v=StringView.putUTF16CharCode;p=StringView.getUTF16CharLength;n=Uint16Array;break encSwitch;case"UTF-32":n=Uint32Array;k&=14;break encSwitch;default:n=Uint8Array;k&=14}typeSwitch:switch(typeof h){case"string":k&=7;break typeSwitch;case"object":classSwitch:switch(h.constructor){case StringView:k&=3;break typeSwitch;case String:k&=7;break typeSwitch;case ArrayBuffer:a=new n(h);t=this.encoding==="UTF-32"?h.byteLength>>>2:this.encoding==="UTF-16"?h.byteLength>>>1:h.byteLength;i=f===0&&(!isFinite(q)||q===t)?a:new n(h,f,!isFinite(q)?t-f:q);break typeSwitch;case Uint32Array:case Uint16Array:case Uint8Array:n=h.constructor;t=h.length;a=h.byteOffset===0&&h.length===(n===Uint32Array?h.buffer.byteLength>>>2:n===Uint16Array?h.buffer.byteLength>>>1:h.buffer.byteLength)?h:new n(h.buffer);i=f===0&&(!isFinite(q)||q===t)?h:h.subarray(f,isFinite(q)?f+q:t);break typeSwitch;default:a=new n(h);t=a.length;i=f===0&&(!isFinite(q)||q===t)?a:a.subarray(f,isFinite(q)?f+q:t)}break typeSwitch;default:a=i=new n(Number(h)||0)}if(k<8){var y,b,w,e,j,d,r;if(k&4){y=h;b=t=y.length;k^=this.encoding==="UTF-32"?0:2;f=w=s?Math.max((b+s)%b,0):0;j=e=(Number.isInteger(q)?Math.min(Math.max(q,0)+f,b):b)-1}else{y=h.rawData;t=h.makeIndex();f=w=s?Math.max((t+s)%t,0):0;b=Number.isInteger(q)?Math.min(Math.max(q,0),t-w):t;j=e=b+w;if(h.encoding==="UTF-8"){d=StringView.getUTF8CharLength;r=StringView.loadUTF8CharCode}else{if(h.encoding==="UTF-16"){d=StringView.getUTF16CharLength;r=StringView.loadUTF16CharCode}else{k&=1}}}if(b===0||k<4&&y.encoding===this.encoding&&w===0&&b===t){k=7}conversionSwitch:switch(k){case 0:a=new n(b);for(var u=0;u<b;a[u]=y[f+u++]){}break conversionSwitch;case 1:b=0;for(var o=f;o<j;o++){b+=p(y[o])}a=new n(b);for(var o=f,u=0;u<b;o++){u=v(a,y[o],u)}break conversionSwitch;case 2:f=0;var m;for(l=0;l<w;l++){m=r(y,f);f+=d(m)}a=new n(b);for(var o=f,u=0;u<b;o+=d(m),u++){m=r(y,o);a[u]=m}break conversionSwitch;case 3:b=0;var m;for(var l=0,o=0;l<e;o+=d(m)){m=r(y,o);if(l===w){f=o}if(++l>w){b+=p(m)}}a=new n(b);for(var o=f,u=0;u<b;o+=d(m)){m=r(y,o);u=v(a,m,u)}break conversionSwitch;case 4:a=new n(b);for(var g=0;g<b;g++){a[g]=y.charCodeAt(g)&255}break conversionSwitch;case 5:b=0;for(var c=0;c<t;c++){if(c===w){f=b}b+=p(y.charCodeAt(c));if(c===e){j=b}}a=new n(b);for(var u=0,l=0;u<b;l++){u=v(a,y.charCodeAt(l),u)}break conversionSwitch;case 6:a=new n(b);for(var g=0;g<b;g++){a[g]=y.charCodeAt(g)}break conversionSwitch;case 7:a=new n(b?y:0);break conversionSwitch}i=k>3&&(f>0||j<a.length-1)?a.subarray(f,j):a}this.buffer=a.buffer;this.bufferView=a;this.rawData=i;Object.freeze(this)}StringView.loadUTF8CharCode=function(b,d){var c=b.length,a=b[d];return a>251&&a<254&&d+5<c?(a-252)*1073741824+(b[d+1]-128<<24)+(b[d+2]-128<<18)+(b[d+3]-128<<12)+(b[d+4]-128<<6)+b[d+5]-128:a>247&&a<252&&d+4<c?(a-248<<24)+(b[d+1]-128<<18)+(b[d+2]-128<<12)+(b[d+3]-128<<6)+b[d+4]-128:a>239&&a<248&&d+3<c?(a-240<<18)+(b[d+1]-128<<12)+(b[d+2]-128<<6)+b[d+3]-128:a>223&&a<240&&d+2<c?(a-224<<12)+(b[d+1]-128<<6)+b[d+2]-128:a>191&&a<224&&d+1<c?(a-192<<6)+b[d+1]-128:a};StringView.putUTF8CharCode=function(b,a,d){var c=d;if(a<128){b[c++]=a}else{if(a<2048){b[c++]=192+(a>>>6);b[c++]=128+(a&63)}else{if(a<65536){b[c++]=224+(a>>>12);b[c++]=128+((a>>>6)&63);b[c++]=128+(a&63)}else{if(a<2097152){b[c++]=240+(a>>>18);b[c++]=128+((a>>>12)&63);b[c++]=128+((a>>>6)&63);b[c++]=128+(a&63)}else{if(a<67108864){b[c++]=248+(a>>>24);b[c++]=128+((a>>>18)&63);b[c++]=128+((a>>>12)&63);b[c++]=128+((a>>>6)&63);b[c++]=128+(a&63)}else{b[c++]=252+(a/1073741824);b[c++]=128+((a>>>24)&63);b[c++]=128+((a>>>18)&63);b[c++]=128+((a>>>12)&63);b[c++]=128+((a>>>6)&63);b[c++]=128+(a&63)}}}}}return c};StringView.getUTF8CharLength=function(a){return a<128?1:a<2048?2:a<65536?3:a<2097152?4:a<67108864?5:6};StringView.loadUTF16CharCode=function(b,c){var a=b[c];return a>55231&&c+1<b.length?(a-55296<<10)+b[c+1]+9216:a};StringView.putUTF16CharCode=function(b,a,d){var c=d;if(a<65536){b[c++]=a}else{b[c++]=55232+(a>>>10);b[c++]=56320+(a&1023)}return c};StringView.getUTF16CharLength=function(a){return a<65536?1:2};StringView.b64ToUint6=function(a){return a>64&&a<91?a-65:a>96&&a<123?a-71:a>47&&a<58?a+4:a===43?62:a===47?63:0};StringView.uint6ToB64=function(a){return a<26?a+65:a<52?a+71:a<62?a-4:a===62?43:a===63?47:65};StringView.bytesToBase64=function(b){var f="";for(var c,e=b.length,a=0,d=0;d<e;d++){c=d%3;if(d>0&&(d*4/3)%76===0){f+="\r\n"}a|=b[d]<<(16>>>c&24);if(c===2||b.length-d===1){f+=String.fromCharCode(StringView.uint6ToB64(a>>>18&63),StringView.uint6ToB64(a>>>12&63),StringView.uint6ToB64(a>>>6&63),StringView.uint6ToB64(a&63));a=0}}return f.replace(/A(?=A$|$)/g,"=")};StringView.base64ToBytes=function(b,f){var k=b.replace(/[^A-Za-z0-9\+\/]/g,""),d=k.length,a=f?Math.ceil((d*3+1>>>2)/f)*f:d*3+1>>>2,j=new Uint8Array(a);for(var h,g,e=0,c=0,i=0;i<d;i++){g=i&3;e|=StringView.b64ToUint6(k.charCodeAt(i))<<18-6*g;if(g===3||d-i===1){for(h=0;h<3&&c<a;h++,c++){j[c]=e>>>(16>>>h&24)&255}e=0}}return j};StringView.makeFromBase64=function(b,d,a,c){return new StringView(d==="UTF-16"||d==="UTF-32"?StringView.base64ToBytes(b,d==="UTF-16"?2:4).buffer:StringView.base64ToBytes(b),d,a,c)};StringView.prototype.encoding="UTF-8";StringView.prototype.makeIndex=function(f,h){var e=this.rawData,g,a=e.length,b=h||0,d=b,c=isNaN(f)?Infinity:f;if(f+1>e.length){throw new RangeError("StringView.prototype.makeIndex - The offset can't be major than the length of the array - 1.")}switch(this.encoding){case"UTF-8":var i;for(g=0;d<a&&g<c;g++){i=e[d];d+=i>251&&i<254&&d+5<a?6:i>247&&i<252&&d+4<a?5:i>239&&i<248&&d+3<a?4:i>223&&i<240&&d+2<a?3:i>191&&i<224&&d+1<a?2:1}break;case"UTF-16":for(g=b;d<a&&g<c;g++){d+=e[d]>55231&&d+1<e.length?2:1}break;default:d=g=isFinite(f)?f:a-1}if(f){return d}return g};StringView.prototype.toBase64=function(a){return StringView.bytesToBase64(a?(this.bufferView.constructor===Uint8Array?this.bufferView:new Uint8Array(this.buffer)):this.rawData.constructor===Uint8Array?this.rawData:new Uint8Array(this.buffer,this.rawData.byteOffset,this.rawData.length<<(this.rawData.constructor===Uint16Array?1:2)))};StringView.prototype.subview=function(f,e){var a,i,g,b=this.encoding==="UTF-8"||this.encoding==="UTF-16",c=f,d,h=this.rawData.length;if(h===0){return new StringView(this.buffer,this.encoding)}d=b?this.makeIndex():h;i=f?Math.max((d+f)%d,0):0;g=Number.isInteger(e)?Math.max(e,0)+i>d?d-i:e:d;if(i===0&&g===d){return this}if(b){c=this.makeIndex(i);a=this.makeIndex(g,c)-c}else{c=i;a=g-i}if(this.encoding==="UTF-16"){c<<=1}else{if(this.encoding==="UTF-32"){c<<=2}}return new StringView(this.buffer,this.encoding,c,a)};StringView.prototype.forEachChar=function(j,d,k,a){var i=this.rawData,h,c;if(this.encoding==="UTF-8"||this.encoding==="UTF-16"){var f,g;if(this.encoding==="UTF-8"){f=StringView.getUTF8CharLength;g=StringView.loadUTF8CharCode}else{if(this.encoding==="UTF-16"){f=StringView.getUTF16CharLength;g=StringView.loadUTF16CharCode}}c=isFinite(k)?this.makeIndex(k):0;h=isFinite(a)?this.makeIndex(a,c):i.length;for(var b,e=0;c<h;e++){b=g(i,c);j.call(d||null,b,e,c,i);c+=f(b)}}else{c=isFinite(k)?k:0;h=isFinite(a)?a+c:i.length;for(c;c<h;c++){j.call(d||null,i[c],c,c,i)}}};StringView.prototype.valueOf=StringView.prototype.toString=function(){if(this.encoding!=="UTF-8"&&this.encoding!=="UTF-16"){return String.fromCharCode.apply(null,this.rawData)}var b,f,c="";if(this.encoding==="UTF-8"){f=StringView.getUTF8CharLength;b=StringView.loadUTF8CharCode}else{if(this.encoding==="UTF-16"){f=StringView.getUTF16CharLength;b=StringView.loadUTF16CharCode}}for(var a,e=this.rawData.length,d=0;d<e;d+=f(a)){a=b(this.rawData,d);c+=String.fromCharCode(a)}return c};